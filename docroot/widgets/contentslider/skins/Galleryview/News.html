<!--// 멀티스킨 사용을 위해 변수 또는 ID 랜덤 지정 -->
{@$skin_id = "Galleryview_".mt_rand()}
{@$slide_id = $skin_id}

<!--// prettyPhoto 테마 -->
<!--@if(!$widget_info->ptypoto_theme)-->
{@$prettyPhoto_theme = "pp_default"}
<!--@else-->
{@$prettyPhoto_theme = $widget_info->ptypoto_theme}
<!--@end-->

<!--// 제목 폰트 크기와 글꼴 정의 -->
<!--@if($widget_info->title_font_size)-->
{@$title_font_size = $widget_info->title_font_size}
<!--@else-->
{@$title_font_size = 13}
<!--@end-->

<!--@if($widget_info->title_font_color)-->
{@$title_font_color = $widget_info->title_font_color}
<!--@else-->
{@$title_font_color = '#000000'}
<!--@end-->

<!--@if($widget_info->title_font_family!="Default")-->
{@$title_font_family = $widget_info->title_font_family}
<!--@else-->
{@$title_font_family = "굴림,'Trebuchet MS',Arial,Helvetica,san-serif"}
<!--@end-->

<!--// 제목 폰트 직접 입력인 경우 -->
<!--@if($widget_info->title_font_user!="")-->
{@$title_font_family = $widget_info->title_font_user}
<!--@end-->

<!--// 제목+카테고리 높이(16px) -->
<!--@if(!$widget_info->title_height)-->
{@$textT1_Height = 13}
<!--@else-->
{@$textT1_Height = $widget_info->title_height}
<!--@end-->

<!--// 내용의 폰트 크기와 글꼴 정의 -->
<!--@if($widget_info->content_font_size)-->
{@$content_font_size = $widget_info->content_font_size}
<!--@else-->
{@$content_font_size = 13}
<!--@end-->

<!--@if($widget_info->content_font_color)-->
{@$content_font_color = $widget_info->content_font_color}
<!--@else-->
{@$content_font_color = '#000000'}
<!--@end-->

<!--@if($widget_info->content_font_family!="Default")-->
{@$content_font_family = $widget_info->content_font_family}
<!--@else-->
{@$content_font_family = "굴림,Arial, Helevtica, Verdana, san-serif"}
<!--@end-->

<!--// 내용 폰트 직접 입력인 경우 -->
<!--@if($widget_info->content_font_user!="")-->
{@$content_font_family = $widget_info->content_font_user}
<!--@end-->

<!--// 내용 높이(26px) -->
<!--@if(!$widget_info->content_height)-->
{@$textC1_Height = 26}
<!--@else-->
{@$textC1_Height = $widget_info->content_height}
<!--@end-->

{@$cap_height=0}
<!--@if($widget_info->show_title=='Y')-->
{@$cap_height = $cap_height+$textT1_Height}
<!--@end-->
<!--@if($widget_info->show_content=='Y')-->
{@$cap_height = $cap_height+$textC1_Height}
<!--@end-->

<!--// 배경 이미지 경로 -->
{@$skincssimgpath = getSiteUrl()."widgets/contentslider/skins/Galleryview/css"}

<style type="text/css" media="screen">

#{$slide_id} {
	margin: 0 auto;
	border: 1px solid #888;
	background: white;
	-webkit-border-radius: 8px;
	-khtml-border-radius: 8px;
	-moz-border-radius: 8px;
	border-radius: 8px;
}
.gv-panel-content {
	padding-right: 2em;
}
.gv-panel-content img {
	float: left;
	width:{$widget_info->thumbnail_width}px;
	height:{$widget_info->thumbnail_height}px;
	-webkit-border-top-left-radius: 8px;
	-khtml-border-radius-topleft: 8px;	
	-moz-border-radius-topleft: 8px;
	border-top-left-radius: 8px;
	-webkit-border-bottom-left-radius: 8px;
	-khtml-border-radius-bottomleft: 8px;	
	-moz-border-radius-bottomleft: 8px;
	border-bottom-left-radius: 8px;
}

/* GALLERY LIST */
/* IMPORTANT - Change '#myGallery' to the ID of your gallery list to prevent a flash of unstyled content */
#{$slide_id} { visibility: hidden; }

/* GALLERY CONTAINER */
.gv-gallery { overflow: hidden; }

/* LOADING BOX */
.gv-loader { background: url('{$skincssimgpath}/loader.gif') center center no-repeat #fff; }


/*************************************************/
/**   PANEL STYLES								**/
/*************************************************/

/* GALLERY PANELS */
.gv-panel { filter: inherit; }

/* 슬라이드 캡션 */
/* NOTE - It is best to define padding here as well so overlay and background retain identical dimensions */
.gv-panel .gv-panel-overlay,
.gv-panel .gv-overlay-background {
	height: {$cap_height}px;
<!--@if($widget_info->show_content_title=='Y')-->
	padding: 10px;
<!--@end-->
}

/* PANEL OVERLAY BACKGROUND */
.gv-panel .gv-overlay-background { background: #222; }

/* PANEL OVERLAY CONTENT */
.gv-panel .gv-panel-overlay { color: white; }
.gv-panel .gv-panel-overlay a { color: white; text-decoration: none; font-weight: bold; }

.gv-panel_wrap .gv-panel-content h3, .gv-panel_wrap .gv-panel-content h3 a, .gv-panel_wrap .gv-panel-content h3 a:visited {
	color:{$title_font_color};
	font-family: {$title_font_family};
	font-size: {$title_font_size}px;
	font-weight: bold;
	text-decoration: none;
	text-align:left;
	overflow:hidden;
	height: {$textT1_Height}px;
	line-height: {$title_font_size}px;
	<!--@if($widget_info->show_title=='Y')-->display:block;<!--@else-->display:none;<!--@end-->
}
.gv-panel_wrap .gv-panel-content h3 a:hover, .gv-panel_wrap .gv-panel-content h3 a:focus {
	text-decoration: underline;
}

.gv-panel_wrap .gv-panel-content p, .gv-panel_wrap .gv-panel-content p a, .gv-panel_wrap .gv-panel-content p a:visited {
	text-align:justify;
	color:{$content_font_color};
	font-family: {$content_font_family};
	font-size: {$content_font_size}px;
	font-weight: normal;
	text-decoration: none;
	overflow:hidden;
	height: {$textC1_Height}px;
	line-height: {$content_font_size}px;
	<!--@if($widget_info->show_content=='Y')-->display:block;<!--@else-->display:none;<!--@end-->
}
.gv-panel_wrap .gv-panel-content p a:hover, .gv-panel_wrap .gv-panel-content p a:focus {
	text-decoration: underline;
}


/* CONTENT PANELS */
.gv-panel-content { overflow:hidden; }


/*************************************************/
/**   FILMSTRIP STYLES							**/
/*************************************************/


/* FILMSTRIP */
/* 'margin' will define top/bottom margin in completed gallery */
.gv-filmstrip { margin: 5px; }

/* FILMSTRIP FRAMES (contains both images and captions) */
.gv-frame {}

/* WRAPPER FOR FILMSTRIP IMAGES */
.gv-frame .gv-img_wrap {}

/* WRAPPER FOR CURRENT FILMSTRIP IMAGE */
.gv-frame.current .gv-img_wrap {}

/* FRAME IMAGES */
.gv-frame img { border: none; }

/* FRAME CAPTION */
.gv-frame .gv-caption { height: 2em; line-height: 2em; font-size: 1em; text-align: center; }

/* CURRENT FRAME CAPTION */
.gv-frame.current .gv-caption { }

/* POINTER FOR CURRENT FRAME */
.gv-pointer {
	border-color: black;
}

/* NAVIGATION BUTTONS */
.gv-nav-next {
	height: 22px;
	width: 22px;
	cursor: pointer;
	background: url('{$skincssimgpath}/themes/dark/next.png') top left no-repeat;
}
.gv-nav-prev {
	height: 22px;
	width: 22px;
	cursor: pointer;
	background: url('{$skincssimgpath}/themes/dark/prev.png') top right no-repeat;
}
.gv-panel-nav-next {
	height: 42px;
	width: 42px;
	cursor: pointer;
	background: url('{$skincssimgpath}/themes/dark/panel-nav-next.png') top left no-repeat;
}
.gv-panel-nav-prev {
	height: 42px;
	width: 42px;
	cursor: pointer;
	background: url('{$skincssimgpath}/themes/dark/panel-nav-prev.png') top right no-repeat;
}

#{$slide_id} .gv-panel-content .lightbox_image {
	width:{$widget_info->thumbnail_width}px;
	height:{$widget_info->thumbnail_height}px;
	float:left;
	margin-right: 10px;
	background:url('{$skincssimgpath}/magnify.png') no-repeat center center;
}

#{$slide_id} .gv-panel-content .lightbox_video {

	width:{$widget_info->thumbnail_width}px;
	height:{$widget_info->thumbnail_height}px;
	float:left;
	margin-right: 10px;
	background:url('{$skincssimgpath}/video.png') no-repeat center center;
}

#{$slide_id} .gv-panel-content .no_image {
	width:{$widget_info->thumbnail_width}px;
	height:{$widget_info->thumbnail_height}px;
	float:left;
	margin-right: 10px;
	background:url('{$skincssimgpath}/no_image.png') no-repeat center center;
}

#{$slide_id} .gv-panel-content .open_doc {
	width:{$widget_info->thumbnail_width}px;
	height:{$widget_info->thumbnail_height}px;
	float:left;
	margin-right: 10px;
	background:url('{$skincssimgpath}/document.png') no-repeat center center;
}

/* TRANSPARENT BORDER FIX FOR IE6 */
/* NOTE - DO NOT CHANGE THIS RULE */
*html .gv-pointer {
	filter: chroma(color=pink);
}
</style>

<script type="text/javascript"> 
	jQuery(document).ready(function($){
		$('#{$slide_id}').galleryView({
			panel_width: {$widget_info->navigation_size},
			panel_height: {$widget_info->thumbnail_height},
			show_filmstrip: false,
			transition_interval: {$widget_info->slide_delay},
			transition_speed: 400,
			panel_animation: 'slide',
			pause_on_hover: true,
			show_panel_nav: <!--@if($widget_info->show_control=='Y')-->true<!--@else-->false<!--@end-->
		});
<!--@if($widget_info->open_article!='N'||$widget_info->target_ext_var=='link'||$widget_info->target_ext_var=='image')-->
	if ($.browser.msie && $.browser.version < 7) return; // Don't execute code if it's IE6 or below cause it doesn't support it.
	$(".fade").fadeTo(1, 1);
	$(".fade").hover(function () {
		$(this).fadeTo("fast", 0.33);
	}, function () {
		$(this).fadeTo("slow", 1);
	});
	$("#{$slide_id}").find("a[rel^='prettyPhoto']").prettyPhoto({theme:'{$prettyPhoto_theme}'});

	$("a[rel^='prettyPhoto']").each(function() {
		var $image = jQuery(this).contents("img");
		$newclass = 'no_image';
		if($(this).attr('href').toLowerCase().match(/youtube\.com\/watch/i)) $newclass = 'lightbox_video';
		else if($(this).attr('href').toLowerCase().match(/vimeo\.com/i)) $newclass = 'lightbox_video';
		else if($(this).attr('href').toLowerCase().match(/(mov|swf)/i)) $newclass = 'lightbox_video';
		else if($(this).attr('href').toLowerCase().match(/(jpg|gif|jpeg|png)/i)) $newclass = 'lightbox_image';
		else $(this).removeClass("fade");
		var $padding_x = parseInt($image.css('padding-left')) + parseInt($image.css('padding-right')),
			$padding_y = parseInt($image.css('padding-top')) + parseInt($image.css('padding-bottom')),
			$margin_x = parseInt($image.css('margin-left')) + parseInt($image.css('margin-right')),
			$margin_y = parseInt($image.css('margin-top')) + parseInt($image.css('margin-bottom')),
			$border_x = parseInt($image.css('border-left-width')) + parseInt($image.css('border-right-width')),
			$border_y = parseInt($image.css('border-top-width')) + parseInt($image.css('border-bottom-width'));
		$height = parseInt($image.height()) + $margin_x + $padding_x + $border_x;
		$width = parseInt($image.width()) + $margin_y +  $padding_y + $border_y;
		$pos =  $image.position();
		$(this).addClass($newclass).css({height:$height, width:$width, top:$pos.top, left:$pos.left});
	});
<!--@end-->
	});
</script>
<!--@if($widget_info->content_items_shuffle=='Y')-->
	{@shuffle($content_items)}
<!--@end-->
<ul id="{$slide_id}">
	<!--@foreach($widget_info->content_items as $key => $item)-->
		<!--@if($widget_info->open_article=='Z')-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			{@$open_article=$item->getLink()}
			<!--@else-->
			{@$open_article=$item->getPreview()}
			<!--@end-->
		<!--@elseif($widget_info->open_article=='Y')-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			{@$open_article=$item->getLink()}
			<!--@else-->
			{@$open_article=$item->getDocumentSrl()}
			<!--@end-->
		<!--@else-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			{@$open_article=$item->getLink()}
			<!--@else-->
			{@$open_article=$item->getDocumentSrl()}
			<!--@end-->
		<!--@end-->
		<li>
        	<div class="gv-panel-content">
				<!--@if($item->getThumbnail())-->
		<!--@if($widget_info->open_article=='Z')-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			<a href="{$item->getLink()}" rel='prettyPhoto[mixed]' />
			<!--@elseif($item->getThumbnail())-->
			<a href="{$item->getPreview()}" rel='prettyPhoto[mixed]' />
			<!--@else-->
			<a class="no_image" />
			<!--@end-->
		<!--@elseif($widget_info->open_article=='Y')-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			<a href="{$item->getLink()}" rel='prettyPhoto[mixed]' />
			<!--@elseif($item->getThumbnail())-->
			<a href="{$item->getDocumentSrl()}" class="open_doc" />
			<!--@else-->
			<a href="{$item->getDocumentSrl()}" class="open_doc" />
			<!--@end-->
		<!--@else-->
			<!--@if($widget_info->target_ext_var=='link'&&$item->getLinkedType()!=''||$widget_info->target_ext_var=='image'&&$item->getLinkedType()!='')-->
			<a href="{$item->getLink()}" rel='prettyPhoto[mixed]' />
			<!--@elseif($item->getThumbnail())-->
			<a />
			<!--@else-->
			<a class="no_image" />
			<!--@end-->
		<!--@end-->
				<img src="{$item->getThumbnail()}" title='{$item->getTitle($widget_info->subject_cut_size)}' <!--@if($widget_info->img_fade=='Y'&&$widget_info->open_article!='N')-->class='fade'<!--@end--> />
				</a>
				<!--@end-->
				<!--@if($widget_info->show_content_title=='Y')-->
            	<h3><a href="{$item->getLink()}">{$item->getTitle($widget_info->subject_cut_size)}</a></h3>
                <p><a href="{$item->getLink()}">{$item->getContent($widget_info->content_cut_size)}</a></p>
				<!--@end-->
            </div>
		</li>
	<!--@end-->
</ul>
