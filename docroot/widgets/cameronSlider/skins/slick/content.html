<load target="//cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.css" />
<load target="//cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css" />
{@ Context::loadJavascriptPlugin('ui'); }
<load target="//cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js" type="body" />
{@ $csi = rand(10000,99999);}

<div id="slick{$csi}" class="slick-center">
	<div class="slick-item" loop="$widget_info->content_items=>$key,$item">
		<!--@if($item->getLink()=='#')-->
		<img src="{$item->getThumbnail()}" title="{$item->getTitle()}" style="width:{$widget_info->thumbnail_width}px" />
		<!--@else-->
		<a href="{$item->getLink()}"|cond="$widget_info->hyperlink_target=='Y'">
			<img src="{$item->getThumbnail()}" title="{$item->getTitle()}" style="width:{$widget_info->thumbnail_width}px" />
		</a>
		<!--@endif-->
	</div>
</div>

<div id="slick{$csi+1}" class="slick-phone">
	<div class="slick-item" loop="$widget_info->content_items=>$key,$item">
		<!--@if($item->getLink()=='#')-->
		<img src="{$item->getThumbnail()}" title="{$item->getTitle()}" style="width:{$widget_info->thumbnail_width}px" />
		<!--@else-->
		<a href="{$item->getLink()}"|cond="$widget_info->hyperlink_target=='Y'">
			<img src="{$item->getThumbnail()}" title="{$item->getTitle()}" style="width:{$widget_info->thumbnail_width}px" />
		</a>
		<!--@endif-->
	</div>
</div>

<script type="text/javascript">
jQuery(function($){
	$(".slick-center").slick({
		centerMode: true,
	  centerPadding: '224px',
	  slidesToShow: 1,
		autoplay: true,
  	autoplaySpeed: 2000,
		responsive: [
			{
				breakpoint: 480,
				settings: {
					centerMode: true,
					centerPadding: '0',
					slidesToShow: 1
				}
			},
	    {
	      breakpoint: 768,
	      settings: {
	        centerMode: true,
	        centerPadding: '200px',
	        slidesToShow: 3
	      }
	    }
	  ]
	});

	$(".slick-phone").slick({
		autoplay: true,
  	autoplaySpeed: 2000
	});
});
</script>

<style>
.slick-center .slick-slide { width: 550px !important;}
.slick-center .slick-item { width: 550px; height: auto; }
.slick-center .slick-prev { left: 90px; z-index: 100; visibility: hidden; }
.slick-center .slick-next { right: 90px; z-index: 100; visibility: hidden; }
.slick-center .slick-center:hover .slick-center .slick-prev,
.slick-center .slick-center:hover .slick-center .slick-next {
	visibility: visible;
}
@media only screen and (min-width: 48em) {
	.slick-phone { display: none; }
}
@media only screen and (max-width: 48em) {
	.slick-center { display: none; }
	.slick-phone { display: block; }
	/* .slick-slide { width: auto !important; max-width: 100%; } */
	/* .slick-item { width: auto; height: auto; max-width: 100%; } */
}
.slick-prev:before { font-family: 'FontAwesome' !important; content: '\f104' !important; }
.slick-next:before { font-family: 'FontAwesome' !important; content: '\f105' !important; }
.slick-next, .slick-prev { transform: scale(2); margin-top: -15px;}
.slick-item img {
  filter: gray saturate(0%) brightness(30%); /* IE6-9 */
  -webkit-filter: grayscale(1)  saturate(0%) brightness(30%); /* Google Chrome, Safari 6+ & Opera 15+ */
  filter: grayscale(1) saturate(0%) brightness(30%); /* Microsoft Edge and Firefox 35+ */
}
.slick-active img {
	filter: none;
	-webkit-filter: none;
	filter: none;
}
</style>
