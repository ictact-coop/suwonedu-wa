<load target="js/changeModuleLayout.js" />

<div class="x_page-header">
	<h1>레이아웃 일괄 변경</h1>
</div>

<div class="message {$XE_VALIDATOR_MESSAGE_TYPE}" cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == '/modules/easyxe/tpl/changeModuleLayout/1'">
<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<script>
	xe.layoutType = '{$type}';
</script>

<ul class="x_nav x_nav-tabs">
	<li class="x_active"|cond="$type == 'P'">
		<a href="{getUrl('type', 'P')}">PC 레이아웃</a>
	</li>
	<li class="x_active"|cond="$type == 'M'">
		<a href="{getUrl('type', 'M')}">모바일 레이아웃</a>
	</li>
</ul>

<form action="./" method="post" ruleset="changeModuleLayout">
	<input type="hidden" name="module" value="easyxe">
	<input type="hidden" name="act" value="procEasyxeAdminChangeModuleLayout">
	<input type="hidden" name="type" value="{$type}">
	<input type="hidden" name="xe_validator_id" value="/modules/easyxe/tpl/changeModuleLayout/1">
	<input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}">

	<p>각 모듈에 적용된 레이아웃을 일괄적으로 변경할 수 있습니다.</p>
	<div class="x_container-fluid">
		<div class="x_row-fluid">
			<div class="x_span2">
				<label for="source_layout">변경 전 레이아웃</label>
				<select id="source_layout" name="source_layout" size="{count($layout_list)}">
					<option value="0">{$lang->notuse}</option>
					<option value="{$layout->layout_srl}" loop="$layout_list => $no, $layout">{$layout->title}</option>
				</select>
			</div>
			<div class="x_span2">
				<label for="target_layout">변경 후 레이아웃</label>
				<select id="target_layout" name="target_layout" size="{count($layout_list)}">
					<option value="0">{$lang->notuse}</option>
					<option value="{$layout->layout_srl}" loop="$layout_list => $no, $layout">{$layout->title}</option>
				</select>
			</div>
			<div class="x_span4" id="usingModule">
				<h2>선택한 레이아웃을 사용중인 페이지</h2>
				<table class="x_table x_table-striped">
					<thead>
						<tr>
							<th>{$lang->module}</th>
							<th>{$lang->mid}</th>
							<th>{$lang->browser_title}</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>
		</div>
	</div>
	<p>왼쪽에 선택한 레이아웃을 오른쪽에 선택한 레이아웃으로 변경합니다.</p>

	<input type="submit" value="{$lang->cmd_apply}" class="x_btn">
</form>